<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏ vs –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è</title>
<style>
body {
font-family: Arial, sans-serif;
margin: 0;
padding: 8px;
font-size: 14px;
line-height: 1.4;
background: #fff;
color: #333;
}

h2 {
margin: 0 0 8px 0;
font-size: 16px;
text-align: center;
font-weight: bold;
}

.instructions {
padding: 8px;
margin-bottom: 10px;
font-size: 13px;
background: #f5f5f5;
border: 1px solid #ddd;
border-radius: 4px;
}

.instructions p {
margin: 4px 0;
}

.columns {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 8px;
}

.column {
display: flex;
flex-direction: column;
gap: 8px;
}

.sentence-item {
border: 1px solid #ddd;
border-radius: 4px;
padding: 6px;
display: flex;
flex-direction: column;
align-items: center;
transition: background-color 0.2s;
}

.sentence-item.correct {
background-color: #e8f5e9; /* —Å–∞–ª–∞—Ç–æ–≤–æ-–∑–µ–ª—ë–Ω—ã–π */
border-color: #a5d6a7;
}

.sentence-item.incorrect {
background-color: #ffebee; /* —Ä–æ–∑–æ–≤–æ-–∫—Ä–∞—Å–Ω—ã–π */
border-color: #ef9a9a;
}

.oracle-text {
font-size: 18px;
font-weight: bold;
margin: 4px 0;
color: #111;
}

.toggle-container {
display: flex;
align-items: center;
gap: 4px;
margin-top: 4px;
font-size: 12px;
}

.toggle-text {
color: #555;
}

/* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å */
.toggle-switch {
position: relative;
display: inline-block;
width: 60px;
height: 20px;
}

.toggle-switch input {
opacity: 0;
width: 0;
height: 0;
}

.slider {
position: absolute;
cursor: pointer;
top: 0;
left: 0;
right: 0;
bottom: 0;
background-color: #2ecc71; /* –∑–µ–ª–µ–Ω—ã–π ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏ */
transition: .2s;
border-radius: 10px;
}

.slider:before {
position: absolute;
content: "";
height: 16px;
width: 16px;
left: 2px;
bottom: 2px;
background: white;
border-radius: 50%;
transition: .2s;
}

input:checked + .slider {
background-color: #e74c3c; /* –∫—Ä–∞—Å–Ω—ã–π ‚Äî –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è */
}

input:checked + .slider:before {
transform: translateX(38px);
}

button {
padding: 6px 12px;
margin: 4px;
border: 1px solid #ddd;
border-radius: 4px;
background: #f5f5f5;
cursor: pointer;
}
</style>

</head>
<body>

<h2>–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏ vs –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è</h2>

<div class="instructions">
<div class="instructions-header" onclick="toggleInstructions()">
<strong>üìå –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (–Ω–∞–∂–º–∏ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)</strong>
<span class="arrow">‚ñº</span>
</div>
<div class="instructions-content" style="display:none">
<p><strong>–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏ vs –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è</strong></p>
<p>–í –¥—Ä–µ–≤–Ω–µ–∫–∏—Ç–∞–π—Å–∫–æ–º —è–∑—ã–∫–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–µ–ª—è—Ç—Å—è –Ω–∞ –¥–≤–∞ —Ç–∏–ø–∞:</p>

<p>üü¢ <strong>–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏</strong> (–∑–µ–ª–µ–Ω—ã–π):</p>
<ul>
<li>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è Ëá™...Ëá≥‰∫é... (z√¨... zh√¨ y√∫) = "–Ω–∞—á–∏–Ω–∞—è —Å... –∏ –¥–æ..."</li>
<li>–û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å <em>"—Å –∫–∞–∫–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ –∫–∞–∫–æ–µ –≤—Ä–µ–º—è?"</em></li>
<li>–í —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–µ–π—Å—Ç–≤–∏–µ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç</li>
</ul>

<p>üî¥ <strong>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è</strong> (–∫—Ä–∞—Å–Ω—ã–π):</p>
<ul>
<li>–û–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–æ –≤—Ä–µ–º–µ–Ω–∏ –ø–µ—Ä–µ–¥ —Å–∫–∞–∑—É–µ–º—ã–º</li>
<li>–û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å <em>"–∫–∞–∫ –¥–æ–ª–≥–æ?"</em></li>
<li>–î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–≥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞</li>
</ul>

<p><em>–ü—Ä–∏–º–µ—Ä—ã:</em><br>
"Ëá™‰ªäËá≥‰∫éÁî≤Ëæ∞" ‚Üí üü¢ (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏)<br>
"Êó¨Èõ®" ‚Üí üî¥ (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è)</p>

<p><strong>–í–∞–∂–Ω–æ!</strong><br>
–í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–∞–º–æ–∫ –≥–æ–≤–æ—Ä–∏—Ç—Å—è, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –≤–µ—Å—å —ç—Ç–æ—Ç –ø–µ—Ä–∏–æ–¥. –ù–∞–ø—Ä–∏–º–µ—Ä, "Ëá™‰ªäËá≥Â∑±ÈÖâÈõ®" –æ–∑–Ω–∞—á–∞–µ—Ç "–î–æ–∂–¥—å –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ —Å —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è –ø–æ –¥–µ–Ω—å —Ü–∑–∏-—é", –∞ –Ω–µ "–î–æ–∂–¥—å –±—É–¥–µ—Ç –∏–¥—Ç–∏ –≤–µ—Å—å —ç—Ç–æ—Ç –ø–µ—Ä–∏–æ–¥".</p>

<p>–í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è –≥–æ–≤–æ—Ä–∏—Ç—Å—è, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–≥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, "Êó¨Èõ®" –æ–∑–Ω–∞—á–∞–µ—Ç "–î–æ–∂–¥—å –±—É–¥–µ—Ç –∏–¥—Ç–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–µ–∫–∞–¥—ã".</p> </div>
</div>

<style>
.instructions-header {
padding: 8px;
background: #f0f0f0;
border-radius: 4px;
cursor: pointer;
display: flex;
justify-content: space-between;
align-items: center;
}
.instructions-content {
padding: 8px 0;
border-top: 1px dashed #ccc;
}
.arrow {
font-size: 12px;
transition: transform 0.2s;
}
.instructions-header.collapsed .arrow {
transform: rotate(-90deg);
}
</style>

<script>
function toggleInstructions() {
const header = document.querySelector('.instructions-header');
const content = document.querySelector('.instructions-content');
const isHidden = content.style.display === 'none';

content.style.display = isHidden ? 'block' : 'none';
header.classList.toggle('collapsed', !isHidden);

// –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è iframe (–æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ä–æ–¥–∏—Ç–µ–ª—é –Ω–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä)
setTimeout(() => {
window.parent.postMessage({
type: "UPDATE_HEIGHT",
height: document.body.scrollHeight
}, "*");
}, 100);
}
</script>

<div class="columns">
<div id="column1" class="column"></div>
<div id="column2" class="column"></div>
</div>

<div class="controls">
<button id="check-btn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
<button id="reset-btn">–°–±—Ä–æ—Å–∏—Ç—å</button>
</div>

<p id="result"></p>

<script>
const sentences = [
{ text: "Ëá™‰ªäËá≥‰∫éÁî≤Ëæ∞", type: "time-frame", explanation: "–Ω–∞—á–∏–Ω–∞—è —Å —Å–µ–≥–æ–¥–Ω—è –∏ –¥–æ –¥–Ω—è —Ü–∑—è-—á–µ–Ω (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏)" },
{ text: "Êó¨Èõ®", type: "duration", explanation: "–¥–æ–∂–¥—å –±—É–¥–µ—Ç –∏–¥—Ç–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–µ–∫–∞–¥—ã (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è)" },
{ text: "Ëá™‰ªäËá≥‰∫éÁô∏‰∫•", type: "time-frame", explanation: "–Ω–∞—á–∏–Ω–∞—è —Å —Å–µ–≥–æ–¥–Ω—è –∏ –¥–æ –¥–Ω—è –≥—É–π-—Ö–∞–π (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏)" },
{ text: "Êó¨‰∫°Á¶ç", type: "duration", explanation: "–≤ —Ç–µ—á–µ–Ω–∏–µ –¥–µ–∫–∞–¥—ã –Ω–µ –±—É–¥–µ—Ç –Ω–µ—Å—á–∞—Å—Ç—å—è (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è)" },
{ text: "Ëá™Â£¨ÂØÖËá≥‰∫éÁî≤Ëæ∞", type: "time-frame", explanation: "–Ω–∞—á–∏–Ω–∞—è —Å –¥–Ω—è –∂—ç–Ω—å-–∏–Ω—å –∏ –¥–æ –¥–Ω—è —Ü–∑—è-—á–µ–Ω (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏)" },
{ text: "‰æÜÁî≤Â≠ê", type: "duration", explanation: "–Ω–∞—Å—Ç—É–ø–∞—é—â–∞—è –¥–µ–∫–∞–¥–∞ –¥–æ –¥–Ω—è —Ü–∑—è-—Ü–∑—ã (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è)" },
{ text: "Ëá™‰∏äÁî≤Ëá≥‰∫é‰∏≠‰∏Å", type: "time-frame", explanation: "–Ω–∞—á–∏–Ω–∞—è —Å –í–µ—Ä—Ö–Ω–µ–≥–æ –¶–∑—è –∏ –¥–æ –°—Ä–µ–¥–Ω–µ–≥–æ –î–∏–Ω (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏)" },
{ text: "‰ªäÂÖ≠Êúà", type: "duration", explanation: "–≤ —Ç–µ—á–µ–Ω–∏–µ –≤—Å–µ–≥–æ —à–µ—Å—Ç–æ–≥–æ –º–µ—Å—è—Ü–∞ (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è)" },
{ text: "Ëá™‰ªäËá≥‰∫é‰∏ÅÂ∑≥", type: "time-frame", explanation: "–Ω–∞—á–∏–Ω–∞—è —Å —Å–µ–≥–æ–¥–Ω—è –∏ –¥–æ –¥–Ω—è –¥–∏–Ω-—Å—ã (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏)" },
{ text: "Áîü‰∏ÉÊúà", type: "duration", explanation: "–≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—É–ø–∞—é—â–µ–≥–æ —Å–µ–¥—å–º–æ–≥–æ –º–µ—Å—è—Ü–∞ (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è)" }
];

function shuffleArray(array) {
for (let i = array.length - 1; i > 0; i--) {
const j = Math.floor(Math.random() * (i + 1));
[array[i], array[j]] = [array[j], array[i]];
}
return array;
}

function createSentenceElement(sentence, index) {
const item = document.createElement('div');
item.className = 'sentence-item';
item.dataset.index = index;

item.innerHTML = `
<div class="oracle-text">${sentence.text}</div>
<div class="toggle-container">
<span class="toggle-text">—Ä–∞–º–∫–∏</span>
<label class="toggle-switch">
<input type="checkbox">
<span class="slider"></span>
</label>
<span class="toggle-text">–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</span>
</div>
`;

return item;
}

function init() {
const shuffled = shuffleArray([...sentences]);
const column1 = document.getElementById('column1');
const column2 = document.getElementById('column2');

column1.innerHTML = '';
column2.innerHTML = '';
document.getElementById('result').style.display = 'none';

// –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å—Ç–∏–ª–µ–π
document.querySelectorAll('.sentence-item').forEach(el => {
el.classList.remove('correct', 'incorrect');
});

shuffled.slice(0, 5).forEach((s, i) => {
const el = createSentenceElement(s, i);
column1.appendChild(el);
});

shuffled.slice(5).forEach((s, i) => {
const el = createSentenceElement(s, i + 5);
column2.appendChild(el);
});
}

function checkAnswers() {
const items = document.querySelectorAll('.sentence-item');
let allCorrect = true;

items.forEach(item => {
const index = item.dataset.index;
const input = item.querySelector('input');
const expectedType = sentences[index].type;
const isCorrect = (input.checked && expectedType === "duration") ||
(!input.checked && expectedType === "time-frame");

item.classList.remove('correct', 'incorrect');
if (isCorrect) {
item.classList.add('correct');
} else {
item.classList.add('incorrect');
allCorrect = false;
}
});

const resultEl = document.getElementById('result');
if (allCorrect) {
resultEl.innerHTML = `‚úÖ <b>–û—Ç–ª–∏—á–Ω–æ!</b> –í—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –≤—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.`;
resultEl.className = 'success';
sendResult(true);
} else {
resultEl.innerHTML = `‚ùå <b>–û—à–∏–±–∫–∞</b> –≤ –æ–¥–Ω–æ–º –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è—Ö.`;
resultEl.className = 'error';
sendResult(false);
}
resultEl.style.display = 'block';
}

function reset() {
document.querySelectorAll('.toggle-switch input').forEach(input => {
input.checked = false;
});
document.querySelectorAll('.sentence-item').forEach(item => {
item.classList.remove('correct', 'incorrect');
});
document.getElementById('result').style.display = 'none';
}

function sendResult(success) {
window.parent.postMessage({
type: "TASK_RESULT",
success: success,
message: success ? "–í–µ—Ä–Ω–æ" : "–û—à–∏–±–∫–∞"
}, "*");
}

window.onload = init;
window.parent.postMessage({ type: "TASK_EXISTS", valid: true }, "*");

document.getElementById('check-btn').addEventListener('click', checkAnswers);
document.getElementById('reset-btn').addEventListener('click', reset);
</script>
</body>
</html>