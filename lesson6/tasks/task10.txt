<!DOCTYPE html>
<html lang="ru">
<head>
    <link rel="stylesheet" href="../../tasks.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Урок 6: 有 / 亡</title>
</head>
<body>
<h2>Как правильно сказать: «В декаде не будет несчастья»?</h2>
<div id="answers">
    <label><input type="radio" name="q" value="0">旬有禍</label>
    <label><input type="radio" name="q" value="1">旬亡禍</label>
    <label><input type="radio" name="q" value="0">不有禍</label>
    <label><input type="radio" name="q" value="0">不亡禍</label>
</div>
<button id="check">Проверить</button>
<p id="result" class="message"></p>
<script>
    document.getElementById("check").addEventListener("click", () => {
        const selected = document.querySelector('input[name="q"]:checked');
        const result = document.getElementById("result");
        if (!selected) {
            result.textContent = "Выберите вариант.";
            return;
        }
        if (selected.value === "1") {
            result.innerHTML = "✅ Верно! <strong>旬亡禍</strong> — «не будет несчастья». Для отрицания «иметь» используется 亡, а не 不.";
            sendResult(true);
        } else {
            result.textContent = "❌ Неверно. Вспомните: отрицание 有 — это 亡.";
            sendResult(false);
        }
    });

    function sendResult(success) {
        window.parent.postMessage({ type: "TASK_RESULT", success }, "*");
    }

    window.parent.postMessage({ type: "TASK_EXISTS", valid: true }, "*");
</script>
</body>
</html>