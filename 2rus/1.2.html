<!-- Task 1: Calligraphy -->
<div class="task active" id="task1">
  <h3 class="task-title">–ö–∞–ª–ª–∏–≥—Ä–∞—Ñ–∏—è</h3>
  <p class="task-prompt">–ù–∞—Ä–∏—Å—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —ç—Ç–æ—Ç –∏–µ—Ä–æ–≥–ª–∏—Ñ:</p>
  <div class="character">ÈÅì</div>

  <details class="transcription-toggle">
    <summary>–ü–æ–∫–∞–∑–∞—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é</summary>
    <p class="transcription">d√†o</p>
  </details>

  <div class="options-container">
    <div id="character-target-div"></div>
    <button class="next-btn" disabled>–î–∞–ª–µ–µ</button>
  </div>

  <div class="feedback" id="feedback1"></div>
</div>

<script>
  // –û–±—ä—è–≤–ª—è–µ–º writer –≥–ª–æ–±–∞–ª—å–Ω–æ, —á—Ç–æ–±—ã –æ–Ω –Ω–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞–ª—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
  let hanziWriterInstance = null;

  function initCalligraphy() {
    const container = document.getElementById('character-target-div');
    if (!container) return;

    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –ø–∏—Å–∞—Ç–µ–ª—è
    hanziWriterInstance = HanziWriter.create(container, 'ÈÅì', {
      width: 150,
      height: 150,
      showCharacter: false,
      showOutline: false,
      showHintAfterMisses: 1,
      highlightOnComplete: false,
      padding: 5
    });

    hanziWriterInstance.quiz({
      onComplete: function(data) {
        const nextBtn = document.querySelector('.next-btn');
        const feedback = document.querySelector('.feedback');

        nextBtn.disabled = false;
        feedback.textContent = '–•–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞! üëç';
        feedback.className = 'feedback correct';
      }
    });
  }

  function checkAnswer() {
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º true, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≤–µ—Ä—à–∏–ª –∫–≤–∏–∑
    return !document.querySelector('.next-btn').disabled;
  }
</script>