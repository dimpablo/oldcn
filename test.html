<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OldCN - Learn Classical Chinese</title>
    <style>



/* style.css */

button {
  padding: 10px 20px;
  font-size: 18px;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

button:hover {
  background-color: #45a049;
}

.character {
  display: inline-block;
  margin: 5px;
  padding: 8px 12px;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 24px;
  cursor: pointer;
  background-color: #f9f9f9;
}

.character.selected {
  background-color: #d1e7dd;
  border-color: #0f5132;
}

.task-content {
  margin-bottom: 20px;
}

/* —Å–≤–µ—Ä—Ö—É –¥–æ–±–∞–≤–æ—á–Ω—ã–π –∫–æ–¥ */


        :root {
            --main-green: #58a700;
            --dark-green: #3c7a00;
            --light-green: #e5ffc8;
            --white: #ffffff;
            --gray: #f0f0f0;
            --dark-gray: #333333;
            --red: #ff4b4b;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            color: var(--dark-gray);
            background-color: var(--gray);
        }
        
        header {
            background-color: var(--white);
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--main-green);
        }
        
        .progress-bar {
            height: 10px;
            background-color: var(--white);
            border-radius: 5px;
            margin: 20px auto;
            width: 90%;
            max-width: 600px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: var(--main-green);
            width: 0%;
            transition: width 0.3s;
        }
        
        .lesson-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--white);
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            min-height: 300px;
        }
        
        .task {
            display: none;
        }
        
        .task.active {
            display: block;
        }
        
        /* –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="logo">OldCN</div>
        <div class="user-menu">
            <span>Lesson 1.1</span>
        </div>
    </header>
    
    <div class="progress-bar">
        <div class="progress-fill" id="progress"></div>
    </div>
    
    <div class="lesson-container">
        <!-- –ú–µ—Å—Ç–æ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞–Ω–∏–π -->
        <pre id="task1">–ó–∞–≥—Ä—É–∑–∫–∞ 1...</pre>
        <pre id="task2">–ó–∞–≥—Ä—É–∑–∫–∞ 2...</pre>
        <pre id="task3">–ó–∞–≥—Ä—É–∑–∫–∞ 3...</pre>
        <pre id="task4">–ó–∞–≥—Ä—É–∑–∫–∞ 4...</pre>
        <pre id="task5">–ó–∞–≥—Ä—É–∑–∫–∞ 5...</pre>
        <pre id="task6">–ó–∞–≥—Ä—É–∑–∫–∞ 6...</pre>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Ä–æ–∫–∞–º–∏
        let currentTask = 0;
        let totalTasks = 6; // –î–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º task1..task6
        let tasksLoaded = 0;
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –∑–∞–¥–∞–Ω–∏–π
        function initLessonInterface() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ
            showTask(0);
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            setupEventListeners();
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ
        function showTask(index) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è
            document.querySelectorAll('.task').forEach(task => {
                task.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ
            const taskElement = document.getElementById(`task${index + 1}`);
            if (taskElement) {
                taskElement.classList.add('active');
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            updateProgress(index);
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
        function updateProgress(currentIndex) {
            const progress = (currentIndex / totalTasks) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –≤—ã–±–æ—Ä–∞ –æ—Ç–≤–µ—Ç–∞
            document.querySelectorAll('.option, .image-option').forEach(option => {
                option.addEventListener('click', function() {
                    if (this.classList.contains('selected')) return;
                    
                    // –°–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
                    this.parentElement.querySelectorAll('.option, .image-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    this.classList.add('selected');
                    
                    // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É "Continue"
                    const nextBtn = this.closest('.task').querySelector('.next-btn');
                    nextBtn.disabled = false;
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞
                    const isCorrect = this.dataset.correct === 'true';
                    const feedback = this.closest('.task').querySelector('.feedback');
                    
                    if (isCorrect) {
                        feedback.textContent = 'Correct! üëç';
                        feedback.className = 'feedback correct';
                    } else {
                        feedback.textContent = 'Not quite. Try again!';
                        feedback.className = 'feedback incorrect';
                    }
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "Continue"
            document.querySelectorAll('.next-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    currentTask++;
                    if (currentTask < totalTasks) {
                        showTask(currentTask);
                    } else {
                        alert('Lesson completed! Great job!');
                    }
                });
            });
            
            // –î–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–≥–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ (–¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, drag-and-drop –∏ —Ç.–¥.)
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞–Ω–∏–π
        function loadTasks() {
            const taskIds = ["task1", "task2", "task3", "task4", "task5", "task6"];
            const filePaths = taskIds.map(id => `./1rus/${id.replace("task", "")}.1.html`);
            
            // –û–±–µ—â–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∑–æ–∫
            const loadPromises = taskIds.map((id, index) => {
                const url = filePaths[index];
                
                return fetch(url)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${url}`);
                        }
                        return response.text();
                    })
                    .then(data => {
                        const element = document.getElementById(id);
                        // –í—Å—Ç–∞–≤–ª—è–µ–º HTML –ø–µ—Ä–µ–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–º
                        element.insertAdjacentHTML('beforebegin', data);
                        // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π —ç–ª–µ–º–µ–Ω—Ç
                        element.remove();
                        tasksLoaded++;
                        
                        // –ï—Å–ª–∏ –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                        if (tasksLoaded === totalTasks) {
                            initLessonInterface();
                        }
                    })
                    .catch(error => {
                        document.getElementById(id).textContent = '–û—à–∏–±–∫–∞: ' + error.message;
                    });
            });
            
            // –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Promise.all(loadPromises) –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –∑–∞–¥–∞–Ω–∏–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('DOMContentLoaded', loadTasks);
    </script>
</body>
</html>
