<!DOCTYPE html>

<html lang="ru">
<head>
<meta charset="utf-8"/>
<title>Урок 17 — Древнекитайский язык по Крюкову</title>
<style>
        body {
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            line-height: 1.8;
            margin: 50px auto;
            background-color: #fbf8f0;
            color: #2c3e50;
            max-width: 1000px;
            padding: 0 20px;
        }
        h1, h2, h3 {
            color: #1a4f72;
            font-weight: normal;
            letter-spacing: 0.5px;
        }
        h1 {
            text-align: center;
            font-size: 1.8em;
            border-bottom: 2px solid #1a4f72;
            padding-bottom: 15px;
            margin-bottom: 40px;
        }
        h2 {
            text-align: center;
            font-size: 1.5em;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
            margin: 40px 0 20px;
        }
        h3 {
            font-size: 1.2em;
            color: #2c3e50;
            border-bottom: none;
            margin-top: 30px;
        }
        .original {
            background-color: #f0f4f8;
            padding: 18px 20px;
            border-left: 6px solid #1a4f72;
            font-size: 1.08em;
            line-height: 1.6;
            border-radius: 0 8px 8px 0;
        }
        .text, .grammar, .lexicon, .assignment {
            margin-bottom: 45px;
        }
        .footer {
            font-size: 0.85em;
            color: #777;
            text-align: center;
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px dashed #ccc;
            line-height: 1.4;
        }
        .example {
            display: block;
            margin: 8px 0 8px 15px;
            font-family: "Courier New", monospace;
            font-size: 0.95em;
            color: #1a4f72;
        }
        ol {
            line-height: 1.8;
        }

        /* === Интерактивные подсказки для иероглифов === */
        .char-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .char-item {
            position: relative;
            display: inline-block;
            background: #f0f4f8;
            padding: 8px 12px;
            border-radius: 6px;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.1em;
            text-align: center;
            transition: background-color 0.2s;
        }

        .char-item:hover {
            background: #e6f2ff;
        }

        .char-item > span {
            cursor: help;
        }

        .inline-pinyin {
            font-size: 0.85em;
            color: #555;
            margin-left: 4px;
            font-style: italic;
        }

        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 260px;
            background: #1a4f72;
            color: white;
            padding: 10px 12px;
            border-radius: 6px;
            font-size: 0.85em;
            text-align: left;
            white-space: normal;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
            pointer-events: none;
        }

        .char-item:hover .char-tooltip {
            display: block;
        }
    </style>
<style>
        @font-face {
            font-family: 'jinwen';
            src: url('../jinwen.ttf') format('truetype');
            font-style: normal;
            font-weight: normal;
            font-display: swap;
        }
    </style>
<style id="2change">
        .oracle-table {
            border-collapse: collapse;
            margin: 20px auto;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.3em;
            table-layout: fixed;
            width: 95%;
            max-width: 1200px;
        }
        .oracle-table td {
            padding: 6px 8px;
            border: 1px solid #d4d4d4;
            text-align: center;
            position: relative;
            word-break: keep-all;
            white-space: nowrap;
        }
        .line-num, .col-num {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            font-size: 0.85em;
            white-space: nowrap;
        }
    </style>
<script src="./../dictionary.js"></script>
</head>
<body>
<h1>УРОК 17</h1>
<!-- ТАБЛИЦА ТЕКСТ УРОКА -->
<div class="text">
<h2>Текст урока</h2>
<table class="oracle-table" id="oracleTable"></table>
</div>
<div style="text-align: center; margin: 20px 0;">
<label class="toggle-switch">
<input id="fontToggle" type="checkbox"/>
<span class="slider"></span>
</label>
<span id="toggleLabel" style="margin-left: 10px; font-family: 'Segoe UI', sans-serif; color: #333;">
        Обычный вид
    </span>
</div>
<style>
    .toggle-switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 30px;
    }
    .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }
    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        transition: .4s;
        border-radius: 30px;
    }
    .slider:before {
        position: absolute;
        content: "";
        height: 22px;
        width: 22px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: .4s;
        border-radius: 50%;
    }
    input:checked + .slider {
        background-color: #1a5fb4;
    }
    input:checked + .slider:before {
        transform: translateX(30px);
    }
</style>
<style>
    .char-tooltip {
        display: none;
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        width: max-content;
        max-width: 300px;
        background: #1a4f72;
        color: white;
        padding: 12px 15px;
        border-radius: 6px;
        font-size: 0.9em;
        text-align: left;
        white-space: normal;
        z-index: 100;
        box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
        line-height: 1.5;
    }
    td:hover .char-tooltip {
        display: block;
    }
    .lesson-badge {
        display: inline-block;
        background: #e6f2ff;
        color: #1a4f72;
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 0.8em;
        margin-left: 5px;
    }

    /* Стили для правой фигурной скобки, объединяющей строки справа */
    .math-example {
        margin: 15px 0;
        display: flex;
        align-items: center;
        font-size: 0.95em;
    }
    .math-content {
        display: flex;
        flex-direction: column;
        text-align: left;
        margin-right: 12px; /* Отступ между текстом и скобкой */
    }
    .math-content .example {
        margin: 2px 0;
        white-space: pre; /* Сохраняем пробелы */
    }
    .math-brace {
        font-size: 2em; /* Большая скобка */
        line-height: 0.7;
        color: #1a4f72;
        font-family: monospace;
        font-weight: bold;
        margin: 0;
    }
    .math-caption {
        margin-left: 15px;
        font-style: italic;
        color: #1a4f72;
    }
</style>
<script>
    // Данные текста урока 17 (по вашему идеальному формату)
    const lessonText = [
        "唯九月王在宗周令盂王若曰盂丕顯",
        "文王受天佑大命在武王嗣文作邦辟",
        "厥慝敷佑四方畯政厥民抯酒無敢酣",
        "有祡烝祀無敢擾故天翼臨子法保先",
        "王有四方我聞殷墜命唯殷邊侯甸眔",
        "殷正辟率肆于酒故喪純祀王曰令汝",
        "盂型乃嗣祖南公賜汝鬯一卣冕衣芾",
        "舄車馬賜乃祖南公旂用狩勿廢朕令",
        "盂用對王休用作祖南公寳鼎"
    ];

    // Функция для создания таблицы
    function createOracleTable() {
        const table = document.getElementById('oracleTable');
        // Создаём строку с номерами колонок
        const headerRow = document.createElement('tr');
        const emptyCell = document.createElement('td');
        emptyCell.className = 'line-num';
        headerRow.appendChild(emptyCell);
        for (let i = 1; i <= 15; i++) {
            const th = document.createElement('td');
            th.className = 'col-num';
            th.textContent = i;
            headerRow.appendChild(th);
        }
        table.appendChild(headerRow);

        // Создаём строки с текстом
        for (let i = 0; i < lessonText.length; i++) {
            const row = document.createElement('tr');
            const lineNumCell = document.createElement('td');
            lineNumCell.className = 'line-num';
            lineNumCell.textContent = i + 1;
            row.appendChild(lineNumCell);

            const chars = Array.from(lessonText[i].replace(/\s+/g, ' ')).filter(ch => ch.trim() !== '');
            for (let j = 0; j < 15; j++) {
                const td = document.createElement('td');
                if (j < chars.length) {
                    const char = chars[j];
                    td.textContent = char;
                    if (charData[char]) {
                        const tooltip = document.createElement('div');
                        tooltip.className = 'char-tooltip';
                        tooltip.innerHTML = `
                            <strong>${char}</strong> <em>${charData[char].pinyin}</em><br>
                            ${charData[char].meaning}<br>
                            <span class="lesson-badge">Урок ${charData[char].lesson}</span>
                        `;
                        td.appendChild(tooltip);
                    }
                }
                row.appendChild(td);
            }
            table.appendChild(row);
        }
    }

    // Инициализация таблицы при загрузке страницы
    document.addEventListener('DOMContentLoaded', createOracleTable);
</script>
<!-- КОНЕЦ ТАБЛИЦЫ ТЕКСТ УРОКА -->
<!-- ГРАММАТИЧЕСКИЙ КОММЕНТАРИЙ -->
<div class="grammar">
<h2>ГРАММАТИЧЕСКИЙ КОММЕНТАРИЙ</h2>
<h3>17.1. Определительные местоимения 無 wú и 亡 wú</h3>
<p class="original">
        Слова 無 wú и 亡 wú уже встречались нам в качестве отрицательных предикативов (см. 14.4). В раннем доклассическом языке они помимо этого могут быть определительными местоимениями. Занимая позицию после подлежащего, такое местоимение указывает на то, что ни один из предметов или лиц, выраженных этим подлежащим, не совершает действий, обозначенных сказуемым: <span class="example">文王孫亡克兢厥烈 wén wáng sūn wú kè jìng jué liè</span> «Никто из потомков Вэнь-вана не мог соперничать с его подвигами».
        <br/><br/>
        В тех случаях, когда известно, о ком идет речь, подлежащее может быть опущено: <span class="example">無敢酣 wú gǎn hān</span> «Никто не осмеливался напиваться допьяна».
        <br/><br/>
        Определительные местоимения 無 wú и 亡 wú могут употребляться и в отрицательном предложении: <span class="example">文王孫亡弗帥型 wén wáng sūn wú fú shuài xíng</span> «Среди потомков Вэнь-вана не было никого, кто не следовал бы примеру предков».
        <br/><br/>
        В последнем случае после определительного местоимения 無 wú или 亡 wú непосредственно перед сказуемым может стоять служебное слово 咸 xián или 率 shuài: <span class="example">父身三年靜東國，亡不咸斁天威 fù shēn sān nián jìng dōng guó, wú bù xián yì tiān wēi</span> «Отец в течение трех лет усмирял восточные страны, и среди них не было ни одной, которая не подчинилась бы воле Неба» (или: «... все они подчинились»).
    </p>
<h3>17.2. Причинный союз 故 gù</h3>
<p class="original">
        Слово 故 gù употребляется в доклассическом языке в знаменательном значении «причина». Кроме того, оно может выступать как союз, указывающий на причинно-следственную связь между придаточным и главным предложениями (соответствует русскому «поэтому», «по этой причине»).
        <br/><br/>
        Союз 故 gù вводит главное предложение, поэтому он может служить ориентиром для членения текста — определения конца придаточного предложения: <span class="example">殷正百辟率肆于酒, 故喪純祀 yīn zhèng bǎi pì shuài sì yú jiǔ, gù sāng chún sì</span> «Все иньские чиновники и местные правители погрязли в пьянстве, поэтому они утратили право на совершение священных жертвоприношений».
        <br/><br/>
<span class="example">腥味在上, 故天降喪于殷 xīng wèi zài shàng, gù tiān jiàng sāng yú yīn</span> «Зловонный запах распространился на верх, и поэтому Небо ниспослало на Инь погибель».
    </p>
</div>
<h2>СПИСОК СЛОВ УРОКА</h2>
<div class="char-list"></div>
<script>
    // Укажи номер урока здесь
    const LESSON = parseInt((window.location.pathname.match(/\/lesson(\d+)(?:\/|$)/) || [])[1] || '1');

    // Находим все иероглифы этого урока из charData
    const lessonChars = Object.entries(charData)
        .filter(([char, data]) => data.lesson === LESSON)
        .sort(([charA, dataA], [charB, dataB]) => {
            // Сортировка по пиньиню (опционально)
            return dataA.pinyin.localeCompare(dataB.pinyin, 'zh');
        });

    // Получаем контейнер
    const charList = document.querySelector('.char-list');

    // Очищаем (на всякий случай)
    charList.innerHTML = '';

    // Генерируем элементы
    lessonChars.forEach(([char, data]) => {
        const item = document.createElement('div');
        item.className = 'char-item';

        item.innerHTML = `
            <span>${char}<span class="inline-pinyin">${data.pinyin}</span></span>
            <div class="char-tooltip">${data.meaning}</div>
        `;

        charList.appendChild(item);
    });
</script>
<!-- ЛЕКСИЧЕСКИЙ КОММЕНТАРИЙ -->
<div class="lexicon">
<h2>ЛЕКСИЧЕСКИЙ КОММЕНТАРИЙ</h2>
<h3>17.А. Небесный мандат</h3>
<p class="original">
        Краеугольным камнем социально-политических воззрений, господствовавших в чжоускую эпоху, была идея божественного происхождения власти верховного правителя.
        <br/><br/>
        Возвышение племени чжоу, низвергшего иньского вана и занявшего место последнего, получило объяснение и обоснование в представлении о «<strong>повелении</strong>», «<strong>приказе</strong>», «<strong>мандате</strong>», который якобы был вручен предводителю чжоусцев Небом. Иньский правитель, пользовавшийся ранее этим мандатом, оказался недостойным его. Поэтому Небо и выбрало себе нового заместителя, земного владыку.
        <br/><br/>
<em>Чем же объясняется это изменение воли Неба?</em>
<br/><br/>
        Обоснование этого пункта концепции «<strong>Небесного мандата</strong>» имело первостепенное значение для оправдания чжоуского завоевания, которое в противном случае могло рассматриваться как акт насилия и богохульства. Такое обоснование, выдвинутое чжоусцами, покоится на категориях морально-нравственного порядка.
        <br/><br/>
        Государство Инь в свое время было избранником Неба, но последние иньские ваны были безнравственны, и Небо отвернулось от них.
        <br/><br/>
        Напротив, правитель Чжоу, получивший Небесный мандат и приказ привести в исполнение волю Неба, обладал всеми добродетелями, необходимыми для правителя Поднебесной.
        <br/><br/>
        Вот как объясняется победа Вэнь-вана в «<strong>Шицзине</strong>»:
        <br/><br/>
<blockquote style="margin: 15px 0; padding: 12px 20px; background: #f0f4f8; border-left: 4px solid #1a4f72; font-style: italic; line-height: 1.6;">
            Этот Вэнь-ван наш царь Просвещенный, и он<br/>
            Сердцем внимателен был и исполнен забот.<br/>
            Высшему неба владыке со славой служил,<br/>
            Много от неба он принял и благ, и щедрот.<br/>
            Доблесть души и достоинство в нем без пятна!<br/>
            Царство над миром он принял и с ним его род.
        </blockquote>
</p>
<h3>17.Б. «Погрязшие в пьянстве»</h3>
<p class="original">
        Одним из многочисленных обвинений, выдвинутых чжоусцами постфактум последнему иньскому вану Ди Синю, было то, что он предавался безудержному расточительству и в его дворце «<strong>туши животных громоздились подобно лесу, а вино текло рекой</strong>».
        <br/><br/>
        Возможно, что подоплека осуждения Ди Синя была весьма прозаичной. Как известно, чжоусцы уступали иньцам по уровню социально-экономического развития. На гораздо более высоком уровне стояло, в частности, иньское земледелие, поэтому чжоусцы попросту не могли позволить себе роскоши расходовать большое количество зерна для изготовления вина (<em>вино в Древнем Китае приготовляли из различных сортов проса</em>).
    </p>
<h3>17.В. «Штандарт твоего деда»</h3>
<p class="original">
        Штандартом (<code style="background: #e6f2ff; color: #1a4f72; padding: 2px 5px; border-radius: 3px; font-size: 0.9em;">旂 qí</code>) в чжоуское время называли отличительный знак аристократа, указывавший на его местонахождение во время боя. Такой штандарт использовался и на охоте. Он представлял собой кусок материи с изображенным на нем священным животным. Он укреплялся на деревянной рукоятке и был снабжен металлическими колокольчиками.
        <br/><br/>
        На первый взгляд может быть не вполне понятно, почему ван дарит Юю штандарт его деда. В других надписях встречаются еще более странные упоминания о том, что правитель дарил своим подчиненным... набедренные повязки их предков.
        <br/><br/>
        Это объясняется тем, что в чжоуское время одежда, оружие, колесницы, штандарты и т. д. были своего рода показателями социальной принадлежности члена общества. По расцветке и особенностям покроя одежды можно было безошибочно узнать, на какой ступеньке социальной лестницы находится тот или иной человек.
        <br/><br/>
        Поэтому, одаривая аристократа одеждой или оружием того типа, который соответствовал определенному социальному рангу, правитель официально признавал его права.
        <br/><br/>
        Если же учесть, что сын занимал в обществе то же положение, что и его отец (а стало быть, и дед), становится понятным, что пожалование Юю штандарта его деда означало:
        <br/>
<ol style="margin: 15px 0 15px 30px; line-height: 1.6;">
<li>подтверждение его <strong>наследственного статуса</strong>;</li>
<li>признание его <strong>права на символы власти</strong>;</li>
<li>символическое <strong>восстановление преемственности</strong> рода.</li>
</ol>
</p>
</div>
<!-- ЗАДАНИЕ ДЛЯ САМОСТОЯТЕЛЬНОЙ РАБОТЫ -->
<div class="assignment">
<h2>ЗАДАНИЕ ДЛЯ САМОСТОЯТЕЛЬНОЙ РАБОТЫ</h2>
<ol>
<li>Перепишите текст и расставьте знаки препинания.</li>
<li>Проделайте грамматический анализ текста.</li>
<li>Переведите текст на русский язык.</li>
<li>Переведите на древнекитайский язык следующие предложения:
            <ol type="1">
<li>Никто из моих детей не сможет основать государство.</li>
<li>Среди этих людей не было никого, кто не вернулся бы из похода.</li>
<li>Все его подданные осмелились войти в большой храм.</li>
</ol>
</li>
</ol>
</div>
<div class="footer">
    Учебник: В. А. Крюков — Архаический древнекитайский язык.<br>
    Восстановлено по OCR с сохранением авторского стиля и добавлением пиньиня.<br>
    Все иероглифы — из текстов Уроков 1–17, либо из циклических знаков (甲子 – 癸亥).
</br></br></div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggle = document.getElementById('fontToggle');
        const label = document.getElementById('toggleLabel');
        const styleSheet = document.getElementById('2change');

        const normalCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        const oracleCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'jinwen', 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        styleSheet.textContent = normalCSS;

        toggle.addEventListener('change', function () {
            if (toggle.checked) {
                styleSheet.textContent = oracleCSS;
                label.textContent = 'Вид бронзовых надписей';
            } else {
                styleSheet.textContent = normalCSS;
                label.textContent = 'Обычный вид';
            }
        });
    });
</script>
<script id="help" src="../help.js"></script>
<script defer="True" src="../sender.js"></script></body>
</html>