<!DOCTYPE html>
<html lang="ru">
<head>
    <script src="./../dictionary.js">//dictionary.js содержит переменную charData используемую для подсказок таблицы! НЕ УДАЛЯТЬ! КРИТИЧЕСКИ ВАЖЕН!</script>
    <meta charset="utf-8"/>
    <title>Урок 37 — Древнекитайский язык по Крюкову</title>
    <style>
        body {
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            line-height: 1.8;
            margin: 50px auto;
            background-color: #fbf8f0;
            color: #2c3e50;
            max-width: 1000px;
            padding: 0 20px;
        }
        h1, h2, h3 {
            color: #1a4f72;
            font-weight: normal;
            letter-spacing: 0.5px;
        }
        h1 {
            text-align: center;
            font-size: 1.8em;
            border-bottom: 2px solid #1a4f72;
            padding-bottom: 15px;
            margin-bottom: 40px;
        }
        h2 {
            text-align: center;
            font-size: 1.5em;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
            margin: 40px 0 20px;
        }
        h3 {
            font-size: 1.2em;
            color: #2c3e50;
            border-bottom: none;
            margin-top: 30px;
        }
        .original {
            background-color: #f0f4f8;
            padding: 18px 20px;
            border-left: 6px solid #1a4f72;
            font-size: 1.08em;
            line-height: 1.6;
            border-radius: 0 8px 8px 0;
        }
        .text, .grammar, .lexicon, .assignment {
            margin-bottom: 45px;
        }
        .footer {
            font-size: 0.85em;
            color: #777;
            text-align: center;
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px dashed #ccc;
            line-height: 1.4;
        }
        .example {
            display: block;
            margin: 8px 0 8px 15px;
            font-family: "Courier New", monospace;
            font-size: 0.95em;
            color: #1a4f72;
        }
        ol {
            line-height: 1.8;
        }

        /* === Интерактивные подсказки для иероглифов === */
        .char-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .char-item {
            position: relative;
            display: inline-block;
            background: #f0f4f8;
            padding: 8px 12px;
            border-radius: 6px;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.1em;
            text-align: center;
            transition: background-color 0.2s;
        }

        .char-item:hover {
            background: #e6f2ff;
        }

        .char-item > span {
            cursor: help;
        }

        .inline-pinyin {
            font-size: 0.85em;
            color: #555;
            margin-left: 4px;
            font-style: italic;
        }

        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 260px;
            background: #1a4f72;
            color: white;
            padding: 10px 12px;
            border-radius: 6px;
            font-size: 0.85em;
            text-align: left;
            white-space: normal;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
            pointer-events: none;
        }

        .char-item:hover .char-tooltip {
            display: block;
        }
    </style>
    <style>
        @font-face {
            font-family: 'Jiaguwen';
            src: url('../jiaguwen.ttf') format('truetype');
            font-style: normal;
            font-weight: normal;
            font-display: swap;
        }
    </style>
    <style id="2change">
        .oracle-table {
            border-collapse: collapse;
            margin: 20px auto;
            font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
            font-size: 1.3em;
            table-layout: fixed;
            width: 95%;
            max-width: 1200px;
        }
        .oracle-table td {
            padding: 6px 8px;
            border: 1px solid #d4d4d4;
            text-align: center;
            position: relative;
            word-break: keep-all;
            white-space: nowrap;
        }
        .line-num, .col-num {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
            font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            font-size: 0.85em;
            white-space: nowrap;
        }
    </style>

    <style>
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #1a5fb4;
        }
        input:checked + .slider:before {
            transform: translateX(30px);
        }
    </style>

    <style>
        .char-tooltip {
            display: none;
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: max-content;
            max-width: 300px;
            background: #1a4f72;
            color: white;
            padding: 12px 15px;
            border-radius: 6px;
            font-size: 0.9em;
            text-align: left;
            white-space: normal;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
            line-height: 1.5;
        }
        td:hover .char-tooltip {
            display: block;
        }
        .lesson-badge {
            display: inline-block;
            background: #e6f2ff;
            color: #1a4f72;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-left: 5px;
        }

        /* Стили для правой фигурной скобки, объединяющей строки справа */
        .math-example {
            margin: 15px 0;
            display: flex;
            align-items: center;
            font-size: 0.95em;
        }
        .math-content {
            display: flex;
            flex-direction: column;
            text-align: left;
            margin-right: 12px; /* Отступ между текстом и скобкой */
        }
        .math-content .example {
            margin: 2px 0;
            white-space: pre; /* Сохраняем пробелы */
        }
        .math-brace {
            font-size: 2em; /* Большая скобка */
            line-height: 0.7;
            color: #1a4f72;
            font-family: monospace;
            font-weight: bold;
            margin: 0;
        }
        .math-caption {
            margin-left: 15px;
            font-style: italic;
            color: #1a4f72;
        }
        .image-container-inline {
            float: right;
            margin: 10px 0 10px 15px;
            text-align: center;
            max-width: 40%;
        }
        .lesson-image-inline {
            max-width: 100%;
            height: auto;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .image-caption-inline {
            font-size: 0.85em;
            color: #555;
            margin-top: 5px;
            font-style: italic;
        }
        .clearfix::after {
            content: "";
            display: table;
            clear: both;
        }
        table.data-table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            font-size: 0.95em;
        }
        table.data-table th, table.data-table td {
            border: 1px solid #ccc;
            padding: 8px 12px;
            text-align: left;
            vertical-align: top;
        }
        table.data-table th {
            background-color: #f0f4f8;
            color: #1a4f72;
            font-weight: bold;
        }
        table.data-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>

<h1>УРОК 37</h1>

<!-- ТАБЛИЦА ТЕКСТ УРОКА -->
<div class="text">
<h2>Текст урока</h2>
<table class="oracle-table" id="oracleTable"></table>
</div>
<div style="text-align: center; margin: 20px 0;">
<label class="toggle-switch">
<input id="fontToggle" type="checkbox"/>
<span class="slider"></span>
</label>
<span id="toggleLabel" style="margin-left: 10px; font-family: 'Segoe UI', sans-serif; color: #333;">
    Обычный вид
  </span>
</div>
<style>
  .toggle-switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 30px;
  }
  .toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }
  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 30px;
  }
  .slider:before {
    position: absolute;
    content: "";
    height: 22px;
    width: 22px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
  }
  input:checked + .slider {
    background-color: #1a5fb4;
  }
  input:checked + .slider:before {
    transform: translateX(30px);
  }
</style>

<style>/* Уменьшаем размер для номеров */

/* Tooltip — без изменений */
.char-tooltip {
    display: none;
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: max-content;
    max-width: 300px;
    background: #1a4f72;
    color: white;
    padding: 12px 15px;
    border-radius: 6px;
    font-size: 0.9em;
    text-align: left;
    white-space: normal;
    z-index: 100;
    box-shadow: 0 4px 12px rgba(26, 79, 114, 0.3);
    line-height: 1.5;
}

td:hover .char-tooltip {
    display: block;
}

.lesson-badge {
    display: inline-block;
    background: #e6f2ff;
    color: #1a4f72;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.8em;
    margin-left: 5px;
}</style>
<script>
const lessonText = [
    "孟子之平陸謂其大夫曰子之持戟之",
    "士一日而三失伍則去之否乎曰不待",
    "三然則子之失伍也亦多矣凶年饑歳",
    "子之民老羸轉於溝壑壯者散而之四",
    "方者幾千人矣曰此非距心之所得為",
    "也曰今有受人之牛羊而為之牧之者",
    "則必為之求牧與芻矣求牧與芻而不",
    "得則反諸其人乎抑亦立而視其死與",
    "曰此則距心之罪也他日見於王曰王",
    "之為都者臣知五人焉知其罪者唯孔",
    "距心為王誦之王曰此則寡人之罪也"
];
// Функция для создания таблицы
function createOracleTable() {
    const table = document.getElementById('oracleTable');
    
    // Создаём строку с номерами колонок
    const headerRow = document.createElement('tr');
    
    // Пустая ячейка для выравнивания с номерами строк
    const emptyCell = document.createElement('td');
    emptyCell.className = 'line-num';
    headerRow.appendChild(emptyCell);
    
    // Номера колонок: от 1 до 15
    for (let i = 1; i <= 15; i++) {
        const th = document.createElement('td');
        th.className = 'col-num';
        th.textContent = i;
        headerRow.appendChild(th);
    }
    table.appendChild(headerRow);
    
    // Создаём строки с текстом
    for (let i = 0; i < lessonText.length; i++) {
        const row = document.createElement('tr');
        
        // Номер строки
        const lineNumCell = document.createElement('td');
        lineNumCell.className = 'line-num';
        lineNumCell.textContent = i + 1;
        row.appendChild(lineNumCell);
        
        // Разбиваем строку на символы
        const chars = Array.from(lessonText[i]);
        
        // Заполняем ячейки для позиций 1–15
        for (let j = 0; j < 15; j++) {  // Ровно 15 ячеек
            const td = document.createElement('td');
            
            // Если есть символ на этой позиции — ставим его
            if (j < chars.length && chars[j].trim() !== '') {
                const char = chars[j];
                td.textContent = char;
                
                if (charData[char]) {
                    const tooltip = document.createElement('div');
                    tooltip.className = 'char-tooltip';
                    tooltip.innerHTML = `
                        <strong>${char}</strong> <em>${charData[char].pinyin}</em><br>
                        ${charData[char].meaning}<br>
                        <span class="lesson-badge">Урок ${charData[char].lesson}</span>
                    `;
                    td.appendChild(tooltip);
                }
            }
            // Если символа нет — ячейка остаётся пустой (ничего не делаем)
            row.appendChild(td);
        }
        
        table.appendChild(row);
    }
}

// Инициализация таблицы при загрузке страницы
document.addEventListener('DOMContentLoaded', createOracleTable);
</script>
<!-- КОНЕЦ ТАБЛИЦЫ ТЕКСТ УРОКА -->

<!-- ГРАММАТИЧЕСКИЙ КОММЕНТАРИЙ -->
<div class="grammar">
    <h2>ГРАММАТИЧЕСКИЙ КОММЕНТАРИЙ</h2>

    <h3>37.1. Прямая речь</h3>
    <p class="original">
        Прямая речь в древнекитайском тексте чаще всего вводится словом <span class="example">曰 yuē</span> «говорить», являющимся сказуемым: <span class="example">孟子曰然 mèng zǐ yuē rán</span> «Мэн-цзы сказал: “Да”».
        <br><br>
        Вместе с тем иногда в тексте указывается не только то, кому принадлежит данное высказывание, но и к кому оно обращено.
        <br><br>
        В этом случае употребляется конструкция <span class="example">...謂...曰... wèi... yuē...</span> где на первом месте стоит подлежащее (говорящий), затем сказуемое <span class="example">謂 wèi</span> «обращаться к...», после него косвенное дополнение (лицо, которому адресовано высказывание) и, наконец, главное сказуемое <span class="example">曰 yuē</span> «говорить», непосредственно предшествующее прямой речи: <span class="example">孟子謂宋勾踐曰... mèng zǐ wèi sòng gōu jiàn yuē...</span> «Мэн-цзы сказал Сун Гоуцзяню: “...”».
        <br><br>
        Вместо <span class="example">謂 wèi</span> в такой конструкции могут употребляться некоторые другие предикативы: <span class="example">問 wèn</span> «спрашивать», <span class="example">語 yǔ</span> «разъяснять», <span class="example">告 gào</span> «сообщать» и т. д.
        <br><br>
        Но после некоторых предикативов этого ряда в классическом языке дополнения, обозначающие адресата высказывания, не употребляются. Так, никогда не бывает такого дополнения после предикатива <span class="example">對 duì</span> «отвечать»: <span class="example">孟子對曰否 mèng zǐ duì yuē fǒu</span> «Мэн-цзы ответил: “Нет”».
    </p>

    <h3>37.2. Функции числительного в предложении (продолжение)</h3>
    <p class="original">
        Помимо своей основной функции — быть сказуемым — числительное может определять сказуемое. По общему правилу в этом случае оно стоит перед сказуемым и указывает на то, сколько раз совершалось действие: <span class="example">吾日三省吾身 wú rì sān xǐng wú shēn</span> «Я трижды в день проверяю себя».
        <br><br>
        Позднее, начиная с постклассического периода, этот способ выражения кратности действия выходит из употребления. Его пережитком в современном китайском языке являются устойчивые фразеологизмы типа <span class="example">百發百中 băi fā băi zhòng</span> «Сто раз выстрелить и сто раз попасть в цель».
    </p>

    <h3>37.3. Общий вопрос</h3>
    <p class="original">
        Для того чтобы выразить общий вопрос, в классическом языке достаточно поставить в конце предложения вопросительную конечную частицу <span class="example">乎 hū</span>, <span class="example">與 yǔ</span> и т. д.
        <br><br>
        Другой способ выражения общего вопроса — присоединение к исходному предложению отрицательного местопредикатива <span class="example">否 fǒu</span> «обстоять не так»: <span class="example">知此人否 zhī cǐ rén fǒu</span> «Знаешь этого человека?» (букв. «Знаешь этого человека или нет?»).
        <br><br>
        Оба способа могут сосуществовать в одном и том же предложении: <span class="example">如此則動心否乎 rú cǐ zé dòng xīn fǒu hū</span> «[А если] это произойдет, то тронет ли это [ваше] сердце?» (букв. «...тронет ли, нет ли?»).
    </p>

    <h3>37.4. Определение, имеющее избирательное значение</h3>
    <p class="original">
        В древнекитайском языке определение всегда стоит перед определяемым. Исключение составляет тот случай, когда определение имеет избирательное значение. Такое определение указывает на то, что оно охватывает лишь часть предметов или явлений, выраженных определяемым.
        <br><br>
        Определение с избирательным значением чаще всего представляет собой именной оборот, оформленный служебным словом <span class="example">者 zhě</span>. Иногда такое определение присоединяется к определяемому с помощью служебного слова <span class="example">之 zhī</span>: <span class="example">人之見之者 rén zhī jiàn zhī zhě</span> «Те люди, которые видели это».
        <br><br>
        <span class="example">之 zhī</span> в такого рода обороте может быть опущено.
        <br><br>
        В тексте данного урока встречается довольно сложный случай употребления нескольких определений с избирательным значением. Костяк словосочетания составляет здесь конструкция <span class="example">子之民...者 zǐ zhī mín... zhě</span> «Те люди из числа вашего народа, которые...». Служебное слово <span class="example">者 zhě</span> в данном случае номинализует развернутые предикативные обороты <span class="example">老羸轉於溝壑 lǎo léi zhuǎn yú gōu hè</span> «будучи старым и немощным, оказаться в канаве или овраге» (т. е. умереть) и <span class="example">壯者散而之四方 zhuàng zhě sàn ér zhī sì fāng</span> «будучи сильными, расходиться и направляться на все четыре стороны».
        <br><br>
        В целом весь этот оборот может быть переведен следующим образом: «те люди из числа вашего народа, которые, будучи старыми и немощными, оказываются в канавах или оврагах, а будучи сильными, разбегаются куда глаза глядят...»
    </p>

    <h3>37.5. Разделительные союзы 若 ruò и 抑 yì</h3>
    <p class="original">
        В классическом древнекитайском языке существуют разделительные союзы <span class="example">若 ruò</span> и <span class="example">抑 yì</span> «или»: <span class="example">大夫没矣,則稱諡若字 dà fū mò yǐ, zé chēng shì ruò zì</span> «[Если] дафу умер, его называют посмертным именем или прозвищем».
        <br><br>
        <span class="example">仲子所居之室伯夷之所築與,抑亦盜蹠之所築與, 所食之粟伯夷之所樹與,抑亦盜蹠之所樹與 zhòng zǐ suǒ jū zhī shì bó yí zhī suǒ zhù yǔ, yì yì dào zhì zhī suǒ zhù yǔ, suǒ shí zhī sù bó yí zhī suǒ shù yǔ, yì yì dào zhì zhī suǒ shù yǔ</span> «Дом, где живет Чжун-цзы, построен Бо И или построен разбойником Чжи? Просо, которым питается Чжун-цзы, посеяно Бо И или посеяно разбойником Чжи?»
    </p>

    <h3>37.6. Именное сказуемое с частицей 唯 wéi</h3>
    <p class="original">
        В классическом языке именное сказуемое обычно оформляется связкой <span class="example">也 yě</span>. В отдельных случаях, однако, связка при именном сказуемом может отсутствовать. В данном тексте встречается предложение с именным сказуемым, оформленным ограничительной частицей <span class="example">唯 wéi</span> «только», «лишь». Это делает наличие связки необязательным:
        <br>
        <span class="example">知其罪者唯孔距心 zhī qí zuì zhě wéi kǒng jù xīn</span> «Только Кун Цзюйсинь понимает свою вину» (букв. «Тот, кто понимает свою вину, — это только Кун Цзюйсинь»).
    </p>

    <h3>37.7. Предлог 為 wèi</h3>
    <p class="original">
        Предлог <span class="example">為 wèi</span> имеет значение «ради», «для», «во имя» и т. д. Он относится к той же группе, что и <span class="example">以 yǐ</span> и <span class="example">與 yǔ</span>. Предлоги этой группы характеризуются тем, что, во-первых, имя, входящее в состав оформленного ими косвенного дополнения, может опускаться (21.5; 24.3); во-вторых, такое косвенное дополнение обычно стоит перед сказуемым: <span class="example">為王養鬥雞 wèi wáng yǎng dòu jī</span> «выкармливать для вана боевых петухов».
        <br><br>
        Предлог <span class="example">為 wèi</span>, кроме того, может иметь значение «из-за», «по причине»:
        <br>
        <span class="example">仕非為貧也 shì fēi wèi pín yě</span> «Идут служить не из-за бедности».
        <br><br>
        Наконец, предлог <span class="example">為 wèi</span> имеет значение, близкое к <span class="example">於 yú</span>: вводит лицо, к которому обращено действие: <span class="example">為王誦之 wèi wáng sòng zhī</span> «расхваливать его вану».
    </p>

    <h3>37.8. Модальный предикатив 得 dé</h3>
    <p class="original">
        Слово <span class="example">得 dé</span> уже встречалось нам в знаменательном значении «получать», «обладать». Кроме того, оно употребляется как модальный предикатив «мочь»:
        <br>
        <span class="example">距心之得為 jù xīn zhī dé wéi</span> «то, что может сделать Цзюйсинь».
        <br><br>
        В отрицательной форме этот модальный предикатив часто встречается в составе словосочетания <span class="example">不得而... bù dé ér...</span> с последующим основным предикативом: <span class="example">不得而知 bù dé ér zhī</span> «Не могу знать».
    </p>
</div>

<h2>СПИСОК СЛОВ УРОКА 37</h2>
<div class="char-list"></div>

<script>
// Укажи номер урока здесь
const LESSON = 37;

// Находим все иероглифы этого урока из charData
const lessonChars = Object.entries(charData)
  .filter(([char, data]) => data.lesson === LESSON)
  .sort(([charA, dataA], [charB, dataB]) => {
    // Сортировка по пиньиню (опционально)
    return dataA.pinyin.localeCompare(dataB.pinyin, 'zh');
  });

// Получаем контейнер
const charList = document.querySelector('.char-list');

// Очищаем (на всякий случай)
charList.innerHTML = '';

// Генерируем элементы
lessonChars.forEach(([char, data]) => {
  const item = document.createElement('div');
  item.className = 'char-item';

  item.innerHTML = `
    <span>${char}<span class="inline-pinyin">${data.pinyin}</span></span>
    <div class="char-tooltip">${data.meaning}</div>
  `;

  charList.appendChild(item);
});
</script>

<div class="lexicon">
    <h2>СЛОВОСОЧЕТАНИЯ</h2>
    <p class="original">
        <span class="example">平陸 píng lù</span> «Пинлюй» (географическое название)<br>
        <span class="example">孔距心 kǒng jù xīn</span> «Кун Цзюйсинь» (имя собств.)
    </p>
</div>

<div class="lexicon">
    <h2>ЛЕКСИЧЕСКИЙ КОММЕНТАРИЙ</h2>

    <h3>37.А. Воины с алебардами</h3>
    <p class="original">
        Усовершенствование различных видов оружия и, в частности, изобретение арбалета привело в V–IV вв. до н. э. к кардинальному изменению способов ведения боя.
        <br><br>
        В новых условиях боевые колесницы, ранее являвшиеся главной ударной силой армии, становятся неэффективными и постепенно выходят из употребления. Теперь успех сражения зависел прежде всего от действий пехоты (конница появляется в Китае много позже). Повышенные требования к техническому оснащению и профессиональным навыкам пехотинцев стимулировали появление в это время постоянной армии, пришедшей на смену прежнему ополчению.
        <div class="image-container-inline">
            <img src="hand_to_hand_combat.jpg" alt="Рукопашный бой" class="lesson-image-inline">
            <div class="image-caption-inline">Рукопашный бой (с древнекитайского барельефа)</div>
        </div>
    </p>
    <div class="clearfix"></div> <!-- Очищаем float после изображения -->

    <h3>37.Б. «Пасти хозяйский скот»</h3>
    <p class="original">
        Принципиальные социально-экономические сдвиги, характеризующие эпоху Чжаньго, находят в V–IV вв. до н. э. свое выражение в изменении форм собственности, а также в широком распространении наемного труда.
        <br><br>
        Во времена Мэн-цзы ситуация, когда человек нанимается пасти хозяйский скот, уже никому не казалась необычной или странной.
    </p>

</div>

<div class="assignment">
    <h2>ЗАДАНИЕ ДЛЯ САМОСТОЯТЕЛЬНОЙ РАБОТЫ</h2>
    <ol>
        <li>Перепишите текст, расставив знаки препинания.</li>
        <li>Проделайте грамматический анализ текста.</li>
        <li>Переведите текст на русский язык.</li>
        <li>Вспомните, какие предлоги классического языка вы знаете. Какие предлоги более раннего времени вышли в V–IV вв. до н. э. из употребления и какие продолжают употребляться в текстах классического периода?</li>
    </ol>
</div>

<div class="footer">
    Учебник: В. А. Крюков — Архаический древнекитайский язык.<br/>
    Восстановлено по OCR с сохранением авторского стиля и добавлением пиньиня.<br/>
    Все иероглифы — из текстов Уроков 1–37, либо из циклических знаков (甲子 – 癸亥).
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggle = document.getElementById('fontToggle');
        const label = document.getElementById('toggleLabel');
        const styleSheet = document.getElementById('2change');

        const normalCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        const oracleCSS = `
            .oracle-table {
                border-collapse: collapse;
                margin: 20px auto;
                font-family: 'Jiaguwen', 'Noto Serif CJK SC', 'KaiTi', serif;
                font-size: 1.3em;
                table-layout: fixed;
                width: 95%;
                max-width: 1200px;
            }
            .oracle-table td {
                padding: 6px 8px;
                border: 1px solid #d4d4d4;
                text-align: center;
                position: relative;
                word-break: keep-all;
                white-space: nowrap;
            }
            .line-num, .col-num {
                background-color: #f0f4f8;
                color: #1a4f72;
                font-weight: bold;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
                font-size: 0.85em;
                white-space: nowrap;
            }
        `;

        styleSheet.textContent = normalCSS;

        toggle.addEventListener('change', function () {
            if (toggle.checked) {
                styleSheet.textContent = oracleCSS;
                label.textContent = 'Оракульный вид';
            } else {
                styleSheet.textContent = normalCSS;
                label.textContent = 'Обычный вид';
            }
        });
    });
</script>

</body>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const table = document.getElementById('oracleTable');
        if (!table) return;

        const rows = table.querySelectorAll('tr');
        rows.forEach(row => {
            const cells = row.querySelectorAll('td');
            cells.forEach(cell => {
                // Получаем текстовое содержимое ячейки, включая скрытые элементы, и удаляем пробелы
                const cellText = cell.textContent.trim();
                
                // Проверяем, является ли содержимое ячейки только "_"
                if (cellText === '_') {
                    // Делаем текст невидимым, очищая textContent
                    // Это удалит текстовый узел "_" , но оставит другие элементы (например, подсказки)
                    cell.textContent = ''; 
                }
                // Проверяем, является ли содержимое ячейки только "|"
                else if (cellText === '|') {
                    // Меняем фоновый цвет на пастельно-бордовый
                    cell.style.backgroundColor = '#e0bfb8'; // Пример пастельно-бордового цвета
                    // Делаем текст (символ "|") невидимым, очищая textContent
                    cell.textContent = '';
                }
            });
        });
    });
</script>
<script id="help" src="../help.js"></script>

</html>
